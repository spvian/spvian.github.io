<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="spvian"><meta name="copyright" content="spvian"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>01_MySQL | spvian</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.24/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_j5gk85dg4pf.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link rel="icon" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"example.com","root":"/","title":"永远相信未来","version":"1.6.1","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><meta name="description" content="MySQL1. 数据库的基本概念123456781. 数据库的英文单词： DataBase 简称 ： DB2. 什么数据库？   * 用于存储和管理数据的仓库。3. 数据库的特点：   1. 持久化存储数据的。数据库是一个文件系统   2. 方便存储和管理数据   3. 使用了统一的方式操作数据库 -- SQL    2. SQL 语句1234567891011121314151617181920">
<meta property="og:type" content="article">
<meta property="og:title" content="01_MySQL">
<meta property="og:url" content="http://example.com/2021/05/26/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/index.html">
<meta property="og:site_name" content="spvian">
<meta property="og:description" content="MySQL1. 数据库的基本概念123456781. 数据库的英文单词： DataBase 简称 ： DB2. 什么数据库？   * 用于存储和管理数据的仓库。3. 数据库的特点：   1. 持久化存储数据的。数据库是一个文件系统   2. 方便存储和管理数据   3. 使用了统一的方式操作数据库 -- SQL    2. SQL 语句1234567891011121314151617181920">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-05-26T10:32:18.076Z">
<meta property="article:modified_time" content="2021-05-19T12:24:20.452Z">
<meta property="article:author" content="spvian">
<meta property="article:tag" content="笔记">
<meta name="twitter:card" content="summary"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="spvian"><img width="96" loading="lazy" src="/yun.png" alt="spvian"></a><div class="site-author-name"><a href="/about/">spvian</a></div><span class="site-name">spvian</span><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">55</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">4</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">7</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/spvain" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL"><span class="toc-number">1.</span> <span class="toc-text">MySQL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.</span> <span class="toc-text">1. 数据库的基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-SQL-%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.2.</span> <span class="toc-text">2. SQL 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-DDL"><span class="toc-number">1.3.</span> <span class="toc-text">3. DDL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-DB-%E2%80%93-CRUD"><span class="toc-number">1.3.1.</span> <span class="toc-text">3.1 DB – CRUD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-Tables-%E2%80%93-CRUD"><span class="toc-number">1.3.2.</span> <span class="toc-text">3.2 Tables – CRUD</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-DML"><span class="toc-number">1.4.</span> <span class="toc-text">4. DML</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-CRUD"><span class="toc-number">1.4.1.</span> <span class="toc-text">4.1 CRUD</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-DQL"><span class="toc-number">1.5.</span> <span class="toc-text">5. DQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E8%AF%AD%E6%B3%95"><span class="toc-number">1.5.1.</span> <span class="toc-text">5.1 语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.5.2.</span> <span class="toc-text">5.2 基础查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.5.3.</span> <span class="toc-text">5.3 条件查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.5.4.</span> <span class="toc-text">5.4 排序查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.5.</span> <span class="toc-text">5.5 聚合函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.5.6.</span> <span class="toc-text">5.6 分组查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-7-%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.5.7.</span> <span class="toc-text">5.7 分页查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-8-%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.5.8.</span> <span class="toc-text">5.8 约束</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-8-1-primary-key"><span class="toc-number">1.5.8.1.</span> <span class="toc-text">5.8.1 primary key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-8-2-not-null"><span class="toc-number">1.5.8.2.</span> <span class="toc-text">5.8.2 not null</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-8-3-unique"><span class="toc-number">1.5.8.3.</span> <span class="toc-text">5.8.3 unique</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-8-4-foreign-key"><span class="toc-number">1.5.8.4.</span> <span class="toc-text">5.8.4 foreign key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-8-5-auto-increment"><span class="toc-number">1.5.8.5.</span> <span class="toc-text">5.8.5 auto_increment</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-8-6-%E7%BA%A7%E8%81%94%E6%93%8D%E4%BD%9C"><span class="toc-number">1.5.8.6.</span> <span class="toc-text">5.8.6 级联操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-DCL"><span class="toc-number">1.6.</span> <span class="toc-text">6. DCL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.7.</span> <span class="toc-text">7. 数据库设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%A4%87%E4%BB%BD%E5%92%8C%E8%BF%98%E5%8E%9F"><span class="toc-number">1.8.</span> <span class="toc-text">8. 数据库的备份和还原</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.9.</span> <span class="toc-text">9. 多表查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E4%BA%8B%E5%8A%A1"><span class="toc-number">1.10.</span> <span class="toc-text">10. 事务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%9B%9B%E5%A4%A7%E7%89%B9%E5%BE%81"><span class="toc-number">1.10.1.</span> <span class="toc-text">10.1 事务的四大特征</span></a></li></ol></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://example.com/2021/05/26/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="spvian"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="spvian"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">01_MySQL</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2021-05-26 18:32:18" itemprop="dateCreated datePublished" datetime="2021-05-26T18:32:18+08:00">2021-05-26</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="Modified: 2021-05-19 20:24:20" itemprop="dateModified" datetime="2021-05-19T20:24:20+08:00">2021-05-19</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">数据库</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/%E7%AC%94%E8%AE%B0/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">笔记</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h1 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h1><h2 id="1-数据库的基本概念"><a href="#1-数据库的基本概念" class="headerlink" title="1. 数据库的基本概念"></a>1. 数据库的基本概念</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1. 数据库的英文单词： DataBase 简称 ： DB</span><br><span class="line">2. 什么数据库？</span><br><span class="line">   * 用于存储和管理数据的仓库。</span><br><span class="line"></span><br><span class="line">3. 数据库的特点：</span><br><span class="line">   1. 持久化存储数据的。数据库是一个文件系统</span><br><span class="line">   2. 方便存储和管理数据</span><br><span class="line">   3. 使用了统一的方式操作数据库 -- SQL</span><br></pre></td></tr></table></figure>



<h2 id="2-SQL-语句"><a href="#2-SQL-语句" class="headerlink" title="2. SQL 语句"></a>2. SQL 语句</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">1.什么是 SQL？</span><br><span class="line">	Structured Query Language：结构化查询语言</span><br><span class="line">	其实是定义了操作所有关系型数据库的规则。每一种数据库操作的方式有不一样的地方，称为“方言”。</span><br><span class="line">	</span><br><span class="line">2.SQL 通用语法</span><br><span class="line">	1. SQL 语句可以单行或多行书写，以分号结尾。</span><br><span class="line">	2. 可使用空格和缩进来增强语句的可读性。</span><br><span class="line">	3. MySQL 数据库的 SQL 语句不区分大小写，关键字建议使用大写。</span><br><span class="line">	4. 3 种注释</span><br><span class="line">		* 单行注释: -- 注释内容 或 # 注释内容(mysql 特有) </span><br><span class="line">		* 多行注释: /* 注释 */</span><br><span class="line">	</span><br><span class="line">3. SQL分类</span><br><span class="line">	1) DDL(Data Definition Language)数据定义语言</span><br><span class="line">		用来定义数据库对象：数据库，表，列等。关键字：create, drop,alter 等</span><br><span class="line">	2) DML(Data Manipulation Language)数据操作语言</span><br><span class="line">		用来对数据库中表的数据进行增删改。关键字：insert, delete, update 等</span><br><span class="line">	3) DQL(Data Query Language)数据查询语言</span><br><span class="line">		用来查询数据库中表的记录(数据)。关键字：select, where 等</span><br><span class="line">	4) DCL(Data Control Language)数据控制语言(了解)</span><br><span class="line">		用来定义数据库的访问权限和安全级别，及创建用户。关键字：GRANT， REVOKE 等</span><br></pre></td></tr></table></figure>



<h2 id="3-DDL"><a href="#3-DDL" class="headerlink" title="3. DDL"></a>3. DDL</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(Data Definition Language) 数据定义语言,对数据库和表的操作</span><br></pre></td></tr></table></figure>

<h3 id="3-1-DB-–-CRUD"><a href="#3-1-DB-–-CRUD" class="headerlink" title="3.1 DB – CRUD"></a>3.1 DB – CRUD</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">1.</span> <span class="string">操作数据库：CRUD</span></span><br><span class="line">	<span class="meta">1.</span> <span class="string">C(Create):创建</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">创建数据库：</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">create database 数据库名称;</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">创建数据库，判断不存在，再创建：</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">create database if not exists 数据库名称;</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">创建数据库，并指定字符集</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">create database 数据库名称 character set 字符集名;</span></span><br><span class="line">	<span class="meta">2.</span> <span class="string">R(Retrieve)：查询</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">查询所有数据库的名称:</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">show databases;</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">查询某个数据库的字符集:查询某个数据库的创建语句</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">show create database 数据库名称;</span></span><br><span class="line">	<span class="meta">3.</span> <span class="string">U(Update):修改</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">修改数据库的字符集</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">alter database 数据库名称 character set 字符集名称;</span></span><br><span class="line">	<span class="meta">4.</span> <span class="string">D(Delete):删除</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">删除数据库</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">drop database 数据库名称;</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">判断数据库存在，存在再删除</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">drop database if exists 数据库名称;</span></span><br><span class="line">	<span class="meta">5.</span> <span class="string">使用数据库</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">查询当前正在使用的数据库名称</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">select database();</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">使用数据库</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">use 数据库名称;</span></span><br></pre></td></tr></table></figure>



<h3 id="3-2-Tables-–-CRUD"><a href="#3-2-Tables-–-CRUD" class="headerlink" title="3.2 Tables – CRUD"></a>3.2 Tables – CRUD</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">操作表-CRUD</span></span><br><span class="line"><span class="meta">1.</span> <span class="string">C(Create):创建</span></span><br><span class="line">			<span class="attr">create</span> <span class="string">table 表名(</span></span><br><span class="line">				<span class="meta">列名1</span> <span class="string">数据类型1,</span></span><br><span class="line">				<span class="meta">列名2</span> <span class="string">数据类型2,</span></span><br><span class="line">				<span class="attr">....</span></span><br><span class="line">				<span class="meta">列名n</span> <span class="string">数据类型n</span></span><br><span class="line">			<span class="attr">);</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">注意：最后一列，不需要加逗号（,）</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">数据库常用类型类型：</span></span><br><span class="line">				<span class="meta">1.</span> <span class="string">int：整数类型</span></span><br><span class="line">				<span class="meta">2.</span> <span class="string">double：小数类型</span></span><br><span class="line">				<span class="meta">3.</span> <span class="string">date：日期，只包含年月日，yyyy-MM-dd</span></span><br><span class="line">				<span class="meta">4.</span> <span class="string">datetime：日期，包含年月日时分秒	 yyyy-MM-dd HH:mm:ss</span></span><br><span class="line">				<span class="meta">5.</span> <span class="string">timestamp：时间错类型	包含年月日时分秒	 yyyy-MM-dd HH:mm:ss	</span></span><br><span class="line">					<span class="meta">*</span> <span class="string">如果将来不给这个字段赋值，或赋值为null，则默认使用当前的系统时间，来自动赋值</span></span><br><span class="line">				<span class="meta">6.</span> <span class="string">varchar：字符串</span></span><br><span class="line">            <span class="meta">*</span> <span class="string">复制表：</span></span><br><span class="line">                <span class="meta">*</span> <span class="string">create table 表名 like 被复制的表名;	</span></span><br><span class="line">                </span><br><span class="line"><span class="meta">2.</span> <span class="string">R(Retrieve)：查询</span></span><br><span class="line">            <span class="meta">*</span> <span class="string">查询某个数据库中所有的表名称</span></span><br><span class="line">                <span class="meta">*</span> <span class="string">show tables;</span></span><br><span class="line">            <span class="meta">*</span> <span class="string">查询表结构</span></span><br><span class="line">                <span class="meta">*</span> <span class="string">desc 表名;</span></span><br><span class="line">                </span><br><span class="line"> <span class="meta">3.</span> <span class="string">U(Update):修改</span></span><br><span class="line">            <span class="meta">1.</span> <span class="string">修改表名</span></span><br><span class="line">                <span class="attr">alter</span> <span class="string">table 表名 rename to 新的表名;</span></span><br><span class="line">            <span class="meta">2.</span> <span class="string">修改表的字符集</span></span><br><span class="line">                <span class="attr">alter</span> <span class="string">table 表名 character set 字符集名称;</span></span><br><span class="line">            <span class="meta">3.</span> <span class="string">添加一列</span></span><br><span class="line">                <span class="attr">alter</span> <span class="string">table 表名 add 列名 数据类型;</span></span><br><span class="line">            <span class="meta">4.</span> <span class="string">修改列名称 类型</span></span><br><span class="line">                <span class="attr">alter</span> <span class="string">table 表名 change 列名 新列别 新数据类型;</span></span><br><span class="line">                <span class="attr">alter</span> <span class="string">table 表名 modify 列名 新数据类型;</span></span><br><span class="line">            <span class="meta">5.</span> <span class="string">删除列</span></span><br><span class="line">                <span class="attr">alter</span> <span class="string">table 表名 drop 列名;</span></span><br><span class="line">                </span><br><span class="line"> <span class="meta">4.</span> <span class="string">D(Delete):删除</span></span><br><span class="line">            <span class="meta">*</span> <span class="string">drop table 表名;</span></span><br><span class="line">            <span class="meta">*</span> <span class="string">drop table  if exists 表名 ;</span></span><br></pre></td></tr></table></figure>



<h2 id="4-DML"><a href="#4-DML" class="headerlink" title="4. DML"></a>4. DML</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DML(Data Manipulation Language)数据操作语言</span><br></pre></td></tr></table></figure>



<h3 id="4-1-CRUD"><a href="#4-1-CRUD" class="headerlink" title="4.1 CRUD"></a>4.1 CRUD</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">1.</span> <span class="string">添加数据：</span></span><br><span class="line">	<span class="meta">*</span> <span class="string">语法：</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">insert into 表名(列名1,列名2,...列名n) values(值1,值2,...值n);</span></span><br><span class="line">	<span class="meta">*</span> <span class="string">注意：</span></span><br><span class="line">		<span class="meta">1.</span> <span class="string">列名和值要一一对应。</span></span><br><span class="line">		<span class="meta">2.</span> <span class="string">如果表名后，不定义列名，则默认给所有列添加值</span></span><br><span class="line">			<span class="attr">insert</span> <span class="string">into 表名 values(值1,值2,...值n);</span></span><br><span class="line">		<span class="meta">3.</span> <span class="string">除了数字类型，其他类型需要使用引号(单双都可以)引起来</span></span><br><span class="line"><span class="meta">2.</span> <span class="string">删除数据：</span></span><br><span class="line">	<span class="meta">*</span> <span class="string">语法：</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">delete from 表名 [where 条件]</span></span><br><span class="line">	<span class="meta">*</span> <span class="string">注意：</span></span><br><span class="line">		<span class="meta">1.</span> <span class="string">如果不加条件，则删除表中所有记录。</span></span><br><span class="line">		<span class="meta">2.</span> <span class="string">如果要删除所有记录</span></span><br><span class="line">			<span class="meta">1.</span> <span class="string">delete from 表名; -- 不推荐使用。有多少条记录就会执行多少次删除操作</span></span><br><span class="line">			<span class="meta">2.</span> <span class="string">TRUNCATE TABLE 表名; -- 推荐使用，效率更高 先删除表，然后再创建一张一样的表。</span></span><br><span class="line"><span class="meta">3.</span> <span class="string">修改数据：</span></span><br><span class="line">	<span class="meta">*</span> <span class="string">语法：</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">update 表名 set 列名1 = 值1, 列名2 = 值2,... [where 条件];</span></span><br><span class="line"></span><br><span class="line">	<span class="meta">*</span> <span class="string">注意：</span></span><br><span class="line">		<span class="meta">1.</span> <span class="string">如果不加任何条件，则会将表中所有记录全部修改。</span></span><br></pre></td></tr></table></figure>



<h2 id="5-DQL"><a href="#5-DQL" class="headerlink" title="5. DQL"></a>5. DQL</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DQL(Data Query Language)数据查询语言</span><br></pre></td></tr></table></figure>



<h3 id="5-1-语法"><a href="#5-1-语法" class="headerlink" title="5.1 语法"></a>5.1 语法</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">select</span> <span class="string">* from 表名;</span></span><br><span class="line"><span class="meta">1.</span> <span class="string">语法：</span></span><br><span class="line">	<span class="attr">select</span></span><br><span class="line">		<span class="attr">字段列表</span></span><br><span class="line">	<span class="attr">from</span></span><br><span class="line">		<span class="attr">表名列表</span></span><br><span class="line">	<span class="attr">where</span></span><br><span class="line">		<span class="attr">条件列表</span></span><br><span class="line">	<span class="attr">group</span> <span class="string">by</span></span><br><span class="line">		<span class="attr">分组字段</span></span><br><span class="line">	<span class="attr">having</span></span><br><span class="line">		<span class="attr">分组之后的条件</span></span><br><span class="line">	<span class="attr">order</span> <span class="string">by</span></span><br><span class="line">		<span class="attr">排序</span></span><br><span class="line">	<span class="attr">limit</span></span><br><span class="line">		<span class="attr">分页限定</span></span><br><span class="line">		</span><br></pre></td></tr></table></figure>



<h3 id="5-2-基础查询"><a href="#5-2-基础查询" class="headerlink" title="5.2 基础查询"></a>5.2 基础查询</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">2.</span> <span class="string">基础查询</span></span><br><span class="line">	<span class="meta">1.</span> <span class="string">多个字段的查询</span></span><br><span class="line">		<span class="attr">select</span> <span class="string">字段名1，字段名2... from 表名；</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">注意：</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">如果查询所有字段，则可以使用*来替代字段列表。</span></span><br><span class="line">	<span class="meta">2.</span> <span class="string">去除重复：</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">distinct</span></span><br><span class="line">	<span class="meta">3.</span> <span class="string">计算列</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">一般可以使用四则运算计算一些列的值。（一般只会进行数值型的计算）</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">ifnull(表达式1,表达式2)：null参与的运算，计算结果都为null</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">表达式1：哪个字段需要判断是否为null</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">如果该字段为null后的替换值。</span></span><br><span class="line">	<span class="meta">4.</span> <span class="string">起别名：</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">as：as也可以省略</span></span><br></pre></td></tr></table></figure>



<h3 id="5-3-条件查询"><a href="#5-3-条件查询" class="headerlink" title="5.3 条件查询"></a>5.3 条件查询</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">3.</span> <span class="string">条件查询</span></span><br><span class="line">	<span class="meta">1.</span> <span class="string">where子句后跟条件</span></span><br><span class="line">	<span class="meta">2.</span> <span class="string">运算符</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">&gt; 、&lt; 、&lt;= 、&gt;= 、= 、&lt;&gt;</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">BETWEEN...AND  </span></span><br><span class="line">		<span class="meta">*</span> <span class="string">IN( 集合) </span></span><br><span class="line">		<span class="meta">*</span> <span class="string">LIKE：模糊查询</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">占位符：</span></span><br><span class="line">				<span class="meta">*</span> <span class="string">_:单个任意字符</span></span><br><span class="line">				<span class="meta">*</span> <span class="string">%：多个任意字符</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">IS NULL  </span></span><br><span class="line">		<span class="meta">*</span> <span class="string">and  或 &amp;&amp;</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">or  或 || </span></span><br><span class="line">		<span class="meta">*</span> <span class="string">not  或 !</span></span><br><span class="line">		</span><br></pre></td></tr></table></figure>



<h3 id="5-4-排序查询"><a href="#5-4-排序查询" class="headerlink" title="5.4 排序查询"></a>5.4 排序查询</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">1.</span> <span class="string">排序查询</span></span><br><span class="line">	<span class="meta">*</span> <span class="string">语法：order by 子句</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">order by 排序字段1 排序方式1 ，  排序字段2 排序方式2...</span></span><br><span class="line"></span><br><span class="line">	<span class="meta">*</span> <span class="string">排序方式：</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">ASC：升序，默认的。</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">DESC：降序。</span></span><br><span class="line"></span><br><span class="line">	<span class="meta">*</span> <span class="string">注意：</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">如果有多个排序条件，则当前边的条件值一样时，才会判断第二条件。</span></span><br></pre></td></tr></table></figure>



<h3 id="5-5-聚合函数"><a href="#5-5-聚合函数" class="headerlink" title="5.5 聚合函数"></a>5.5 聚合函数</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">2.</span> <span class="string">聚合函数：将一列数据作为一个整体，进行纵向的计算。</span></span><br><span class="line">	<span class="meta">1.</span> <span class="string">count：计算个数</span></span><br><span class="line">		<span class="meta">1.</span> <span class="string">一般选择非空的列：主键</span></span><br><span class="line">		<span class="meta">2.</span> <span class="string">count(*)</span></span><br><span class="line">	<span class="meta">2.</span> <span class="string">max：计算最大值</span></span><br><span class="line">	<span class="meta">3.</span> <span class="string">min：计算最小值</span></span><br><span class="line">	<span class="meta">4.</span> <span class="string">sum：计算和</span></span><br><span class="line">	<span class="meta">5.</span> <span class="string">avg：计算平均值</span></span><br><span class="line">	</span><br><span class="line">	<span class="meta">*</span> <span class="string">注意：聚合函数的计算，排除null值。</span></span><br><span class="line">		<span class="attr">解决方案：</span></span><br><span class="line">			<span class="meta">1.</span> <span class="string">选择不包含非空的列进行计算</span></span><br><span class="line">			<span class="meta">2.</span> <span class="string">IFNULL 函数</span></span><br></pre></td></tr></table></figure>



<h3 id="5-6-分组查询"><a href="#5-6-分组查询" class="headerlink" title="5.6 分组查询"></a>5.6 分组查询</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">3.</span> <span class="string">分组查询:</span></span><br><span class="line">	<span class="meta">1.</span> <span class="string">语法：group by 分组字段；</span></span><br><span class="line">	<span class="meta">2.</span> <span class="string">注意：</span></span><br><span class="line">		<span class="meta">1.</span> <span class="string">分组之后查询的字段：分组字段、聚合函数</span></span><br><span class="line">		<span class="meta">2.</span> <span class="string">where 和 having 的区别？</span></span><br><span class="line">			<span class="meta">1.</span> <span class="string">where 在分组之前进行限定，如果不满足条件，则不参与分组。having在分组之后进行限定，如果不满足结果，则不会被查询出来</span></span><br><span class="line">			<span class="meta">2.</span> <span class="string">where 后不可以跟聚合函数，having可以进行聚合函数的判断。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="5-7-分页查询"><a href="#5-7-分页查询" class="headerlink" title="5.7 分页查询"></a>5.7 分页查询</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">4.</span> <span class="string">分页查询</span></span><br><span class="line">	<span class="meta">1.</span> <span class="string">语法：limit 开始的索引,每页查询的条数;</span></span><br><span class="line">	<span class="meta">2.</span> <span class="string">公式：开始的索引 = （当前的页码 - 1） * 每页显示的条数</span></span><br><span class="line">		<span class="meta">--</span> <span class="string">每页显示3条记录 </span></span><br><span class="line"></span><br><span class="line">		<span class="attr">SELECT</span> <span class="string">* FROM student LIMIT 0,3; -- 第1页</span></span><br><span class="line">		</span><br><span class="line">		<span class="attr">SELECT</span> <span class="string">* FROM student LIMIT 3,3; -- 第2页</span></span><br><span class="line">		</span><br><span class="line">		<span class="attr">SELECT</span> <span class="string">* FROM student LIMIT 6,3; -- 第3页</span></span><br><span class="line"></span><br><span class="line">	<span class="meta">3.</span> <span class="string">limit 是一个 MySQL &quot;方言&quot;</span></span><br></pre></td></tr></table></figure>



<h3 id="5-8-约束"><a href="#5-8-约束" class="headerlink" title="5.8 约束"></a>5.8 约束</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 概念： 对表中的数据进行限定，保证数据的正确性、有效性和完整性。	</span><br><span class="line">* 分类：</span><br><span class="line">	1. 主键约束：primary key</span><br><span class="line">	2. 非空约束：not null</span><br><span class="line">	3. 唯一约束：unique</span><br><span class="line">	4. 外键约束：foreign key</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="5-8-1-primary-key"><a href="#5-8-1-primary-key" class="headerlink" title="5.8.1 primary key"></a>5.8.1 primary key</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">*</span> <span class="string">主键约束：primary key。</span></span><br><span class="line">	<span class="meta">1.</span> <span class="string">注意：</span></span><br><span class="line">		<span class="meta">1.</span> <span class="string">含义：非空且唯一</span></span><br><span class="line">		<span class="meta">2.</span> <span class="string">一张表只能有一个字段为主键</span></span><br><span class="line">		<span class="meta">3.</span> <span class="string">主键就是表中记录的唯一标识</span></span><br><span class="line"></span><br><span class="line">	<span class="meta">2.</span> <span class="string">在创建表时，添加主键约束</span></span><br><span class="line">		<span class="attr">create</span> <span class="string">table stu(</span></span><br><span class="line">			<span class="attr">id</span> <span class="string">int primary key,-- 给id添加主键约束</span></span><br><span class="line">			<span class="attr">name</span> <span class="string">varchar(20)</span></span><br><span class="line">		<span class="attr">);</span></span><br><span class="line"></span><br><span class="line">	<span class="meta">3.</span> <span class="string">删除主键</span></span><br><span class="line">		<span class="meta">--</span> <span class="string">错误 alter table stu modify id int ;</span></span><br><span class="line">		<span class="attr">ALTER</span> <span class="string">TABLE stu DROP PRIMARY KEY;</span></span><br><span class="line"></span><br><span class="line">	<span class="meta">4.</span> <span class="string">创建完表后，添加主键</span></span><br><span class="line">		<span class="attr">ALTER</span> <span class="string">TABLE stu MODIFY id INT PRIMARY KEY;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="5-8-2-not-null"><a href="#5-8-2-not-null" class="headerlink" title="5.8.2 not null"></a>5.8.2 not null</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">*</span> <span class="string">非空约束：not null，值不能为null</span></span><br><span class="line">	<span class="meta">1.</span> <span class="string">创建表时添加约束</span></span><br><span class="line">		<span class="attr">CREATE</span> <span class="string">TABLE stu(</span></span><br><span class="line">			<span class="attr">id</span> <span class="string">INT,</span></span><br><span class="line">			<span class="attr">NAME</span> <span class="string">VARCHAR(20) NOT NULL -- name为非空</span></span><br><span class="line">		<span class="attr">);</span></span><br><span class="line">	<span class="meta">2.</span> <span class="string">创建表完后，添加非空约束</span></span><br><span class="line">		<span class="attr">ALTER</span> <span class="string">TABLE stu MODIFY NAME VARCHAR(20) NOT NULL;</span></span><br><span class="line"></span><br><span class="line">	<span class="meta">3.</span> <span class="string">删除 name 的非空约束</span></span><br><span class="line">		<span class="attr">ALTER</span> <span class="string">TABLE stu MODIFY NAME VARCHAR(20);</span></span><br></pre></td></tr></table></figure>



<h4 id="5-8-3-unique"><a href="#5-8-3-unique" class="headerlink" title="5.8.3 unique"></a>5.8.3 unique</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">*</span> <span class="string">唯一约束：unique，值不能重复</span></span><br><span class="line">	<span class="meta">1.</span> <span class="string">创建表时，添加唯一约束</span></span><br><span class="line">		<span class="attr">CREATE</span> <span class="string">TABLE stu(</span></span><br><span class="line">			<span class="attr">id</span> <span class="string">INT,</span></span><br><span class="line">			<span class="attr">phone_number</span> <span class="string">VARCHAR(20) UNIQUE -- 添加了唯一约束</span></span><br><span class="line">		<span class="attr">);</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">注意mysql中，唯一约束限定的列的值可以有多个 null</span></span><br><span class="line">	<span class="meta">2.</span> <span class="string">删除唯一约束</span></span><br><span class="line">		<span class="attr">ALTER</span> <span class="string">TABLE stu DROP INDEX phone_number;</span></span><br><span class="line">	</span><br><span class="line">	<span class="meta">3.</span> <span class="string">在创建表后，添加唯一约束</span></span><br><span class="line">		<span class="attr">ALTER</span> <span class="string">TABLE stu MODIFY phone_number VARCHAR(20) UNIQUE;</span></span><br></pre></td></tr></table></figure>



<h4 id="5-8-4-foreign-key"><a href="#5-8-4-foreign-key" class="headerlink" title="5.8.4 foreign key"></a>5.8.4 foreign key</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">*</span> <span class="string">外键约束：foreign key,让表于表产生关系，从而保证数据的正确性。</span></span><br><span class="line">	<span class="meta">1.</span> <span class="string">在创建表时，可以添加外键</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">语法：</span></span><br><span class="line">			<span class="attr">create</span> <span class="string">table 表名(</span></span><br><span class="line">				<span class="attr">....</span></span><br><span class="line">				<span class="attr">外键列</span></span><br><span class="line">				<span class="attr">constraint</span> <span class="string">外键名称 foreign key (外键列名称) references 主表名称(主表列名称)</span></span><br><span class="line">			<span class="attr">);</span></span><br><span class="line"></span><br><span class="line">	<span class="meta">2.</span> <span class="string">删除外键</span></span><br><span class="line">		<span class="attr">ALTER</span> <span class="string">TABLE 表名 DROP FOREIGN KEY 外键名称;</span></span><br><span class="line"></span><br><span class="line">	<span class="meta">3.</span> <span class="string">创建表之后，添加外键</span></span><br><span class="line">		<span class="attr">ALTER</span> <span class="string">TABLE 表名 ADD CONSTRAINT 外键名称 FOREIGN KEY (外键字段名称) REFERENCES 主表名称(主表列名称);</span></span><br></pre></td></tr></table></figure>



<h4 id="5-8-5-auto-increment"><a href="#5-8-5-auto-increment" class="headerlink" title="5.8.5 auto_increment"></a>5.8.5 auto_increment</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">1.</span>  <span class="string">概念：如果某一列是数值类型的，使用 auto_increment 可以来完成值得自动增长</span></span><br><span class="line"><span class="meta">2.</span> <span class="string">在创建表时，添加主键约束，并且完成主键自增长</span></span><br><span class="line">		<span class="attr">create</span> <span class="string">table stu(</span></span><br><span class="line">			<span class="attr">id</span> <span class="string">int primary key auto_increment,-- 给id添加主键约束</span></span><br><span class="line">			<span class="attr">name</span> <span class="string">varchar(20)</span></span><br><span class="line">		<span class="attr">);</span></span><br><span class="line"><span class="meta">3.</span> <span class="string">删除自动增长</span></span><br><span class="line">		<span class="attr">ALTER</span> <span class="string">TABLE stu MODIFY id INT;</span></span><br><span class="line">		<span class="meta">4.</span> <span class="string">添加自动增长</span></span><br><span class="line">		<span class="attr">ALTER</span> <span class="string">TABLE stu MODIFY id INT AUTO_INCREMENT;</span></span><br></pre></td></tr></table></figure>



<h4 id="5-8-6-级联操作"><a href="#5-8-6-级联操作" class="headerlink" title="5.8.6 级联操作"></a>5.8.6 级联操作</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">4.</span> <span class="string">级联操作</span></span><br><span class="line">	<span class="meta">1.</span> <span class="string">添加级联操作</span></span><br><span class="line">		<span class="meta">语法：ALTER</span> <span class="string">TABLE 表名 ADD CONSTRAINT 外键名称 </span></span><br><span class="line">			<span class="attr">FOREIGN</span> <span class="string">KEY (外键字段名称) REFERENCES 主表名称(主表列名称) ON UPDATE CASCADE ON DELETE CASCADE  ;</span></span><br><span class="line">	<span class="meta">2.</span> <span class="string">分类：</span></span><br><span class="line">		<span class="meta">1.</span> <span class="string">级联更新：ON UPDATE CASCADE </span></span><br><span class="line">		<span class="meta">2.</span> <span class="string">级联删除：ON DELETE CASCADE </span></span><br></pre></td></tr></table></figure>



<h2 id="6-DCL"><a href="#6-DCL" class="headerlink" title="6. DCL"></a>6. DCL</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">* DBA：数据库管理员</span><br><span class="line">* DCL：管理用户，授权</span><br><span class="line">	1. 管理用户</span><br><span class="line">		1. 添加用户：</span><br><span class="line">			* 语法：CREATE USER &#x27;用户名&#x27;@&#x27;主机名&#x27; IDENTIFIED BY &#x27;密码&#x27;;</span><br><span class="line">		2. 删除用户：</span><br><span class="line">			* 语法：DROP USER &#x27;用户名&#x27;@&#x27;主机名&#x27;;</span><br><span class="line">		3. 修改用户密码：</span><br><span class="line">			</span><br><span class="line">			UPDATE USER SET PASSWORD = PASSWORD(&#x27;新密码&#x27;) WHERE USER = &#x27;用户名&#x27;;</span><br><span class="line">			SET PASSWORD FOR &#x27;用户名&#x27;@&#x27;主机名&#x27; = PASSWORD(&#x27;新密码&#x27;);</span><br><span class="line"></span><br><span class="line">			* mysql中忘记了root用户的密码？</span><br><span class="line">				2. 使用无验证方式启动mysql服务： mysqld --skip-grant-tables</span><br><span class="line">				5. update user set password = password(&#x27;你的新密码&#x27;) where user = &#x27;root&#x27;;</span><br><span class="line">				7. 打开任务管理器，手动结束mysqld.exe 的进程</span><br><span class="line">		4. 查询用户：</span><br><span class="line">			SELECT * FROM USER;</span><br><span class="line">			* 通配符： % 表示可以在任意主机使用用户登录数据库</span><br><span class="line"></span><br><span class="line">	2. 权限管理：</span><br><span class="line">		1. 查询权限：</span><br><span class="line">			-- 查询权限</span><br><span class="line">			SHOW GRANTS FOR &#x27;用户名&#x27;@&#x27;主机名&#x27;;</span><br><span class="line"></span><br><span class="line">		2. 授予权限：</span><br><span class="line">			-- 授予权限</span><br><span class="line">			grant 权限列表 on 数据库名.表名 to &#x27;用户名&#x27;@&#x27;主机名&#x27;;</span><br><span class="line">			GRANT ALL ON *.* TO &#x27;zhangsan&#x27;@&#x27;localhost&#x27;;</span><br><span class="line">			</span><br><span class="line">		3. 撤销权限：</span><br><span class="line">			-- 撤销权限：</span><br><span class="line">			revoke 权限列表 on 数据库名.表名 from &#x27;用户名&#x27;@&#x27;主机名&#x27;;</span><br><span class="line">			REVOKE UPDATE ON db3.`account` FROM &#x27;lisi&#x27;@&#x27;%&#x27;;</span><br></pre></td></tr></table></figure>



<h2 id="7-数据库设计"><a href="#7-数据库设计" class="headerlink" title="7. 数据库设计"></a>7. 数据库设计</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">1. 多表之间的关系</span><br><span class="line">	1. 分类：</span><br><span class="line">		1. 一对一(了解)：</span><br><span class="line">			* 如：人和身份证</span><br><span class="line">			* 分析：一个人只有一个身份证，一个身份证只能对应一个人</span><br><span class="line">		2. 一对多(多对一)：</span><br><span class="line">			* 如：部门和员工</span><br><span class="line">			* 分析：一个部门有多个员工，一个员工只能对应一个部门</span><br><span class="line">		3. 多对多：</span><br><span class="line">			* 如：学生和课程</span><br><span class="line">			* 分析：一个学生可以选择很多门课程，一个课程也可以被很多学生选择</span><br><span class="line">	2. 实现关系：</span><br><span class="line">		1. 一对多(多对一)：</span><br><span class="line">			* 如：部门和员工</span><br><span class="line">			* 实现方式：在多的一方建立外键，指向一的一方的主键。</span><br><span class="line">		2. 多对多：</span><br><span class="line">			* 如：学生和课程</span><br><span class="line">			* 实现方式：多对多关系实现需要借助第三张中间表。中间表至少包含两个字段，这两个字段作为第三张表的外键，分别指向两张表的主键</span><br><span class="line">		3. 一对一(了解)：</span><br><span class="line">			* 如：人和身份证</span><br><span class="line">			* 实现方式：一对一关系实现，可以在任意一方添加唯一外键指向另一方的主键。</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">2. 数据库设计的范式</span><br><span class="line">	* 概念：设计数据库时，需要遵循的一些规范。要遵循后边的范式要求，必须先遵循前边的所有范式要求</span><br><span class="line">		设计关系数据库时，遵从不同的规范要求，设计出合理的关系型数据库，这些不同的规范要求被称为不同的范式，各种范式呈递次规范，越高的范式数据库冗余越小。</span><br><span class="line">		目前关系数据库有六种范式：第一范式（1NF）、第二范式（2NF）、第三范式（3NF）、巴斯-科德范式（BCNF）、第四范式(4NF）和第五范式（5NF，又称完美范式）。</span><br><span class="line"></span><br><span class="line">	* 分类：</span><br><span class="line">		1. 第一范式（1NF）：每一列都是不可分割的原子数据项</span><br><span class="line">		2. 第二范式（2NF）：在 1NF 的基础上，非码属性必须完全依赖于码（在 1NF 基础上消除非主属性对主码的部分函数依赖）</span><br><span class="line">			* 几个概念：</span><br><span class="line">				1. 函数依赖：A--&gt;B,如果通过 A 属性(属性组)的值，可以确定唯一B属性的值。则称 B 依赖于A</span><br><span class="line">					例如：学号--&gt;姓名。  （学号，课程名称） --&gt; 分数</span><br><span class="line">				2. 完全函数依赖：A--&gt;B， 如果 A 是一个属性组，则 B 属性值得确定需要依赖于 A 属性组中所有的属性值。</span><br><span class="line">					例如：（学号，课程名称） --&gt; 分数</span><br><span class="line">				3. 部分函数依赖：A--&gt;B， 如果 A 是一个属性组，则B属性值得确定只需要依赖于A属性组中某一些值即可。</span><br><span class="line">					例如：（学号，课程名称） -- &gt; 姓名</span><br><span class="line">				4. 传递函数依赖：A--&gt;B, B -- &gt;C . 如果通过A属性(属性组)的值，可以确定唯一B属性的值，在通过B属性（属性组）的值可以确定唯一C属性的值，则称 C 传递函数依赖于A</span><br><span class="line">					例如：学号--&gt;系名，系名--&gt;系主任</span><br><span class="line">				5. 码：如果在一张表中，一个属性或属性组，被其他所有属性所完全依赖，则称这个属性(属性组)为该表的码</span><br><span class="line">					例如：该表中码为：（学号，课程名称）</span><br><span class="line">					* 主属性：码属性组中的所有属性</span><br><span class="line">					* 非主属性：除过码属性组的属性</span><br><span class="line">					</span><br><span class="line">		3. 第三范式（3NF）：在 2NF 基础上，任何非主属性不依赖于其它非主属性（在 2N F基础上消除传递依赖）</span><br></pre></td></tr></table></figure>



<h2 id="8-数据库的备份和还原"><a href="#8-数据库的备份和还原" class="headerlink" title="8. 数据库的备份和还原"></a>8. 数据库的备份和还原</h2><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">1.</span> <span class="string">命令行：</span></span><br><span class="line">	<span class="meta">*</span> <span class="string">语法：</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">备份： mysqldump -u用户名 -p密码 数据库名称 &gt; 保存的路径</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">还原：</span></span><br><span class="line">			<span class="meta">1.</span> <span class="string">登录数据库</span></span><br><span class="line">			<span class="meta">2.</span> <span class="string">创建数据库</span></span><br><span class="line">			<span class="meta">3.</span> <span class="string">使用数据库</span></span><br><span class="line">			<span class="meta">4.</span> <span class="string">执行文件。source 文件路径</span></span><br><span class="line"><span class="meta">2.</span> <span class="string">图形化工具：</span></span><br></pre></td></tr></table></figure>



<h2 id="9-多表查询"><a href="#9-多表查询" class="headerlink" title="9. 多表查询"></a>9. 多表查询</h2><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">*</span> <span class="string">多表查询的分类：</span></span><br><span class="line">	<span class="meta">1.</span> <span class="string">内连接查询：</span></span><br><span class="line">		<span class="meta">1.</span> <span class="string">隐式内连接：使用 where 条件消除无用数据</span></span><br><span class="line">        <span class="meta">2.</span> <span class="string">显式内连接：</span></span><br><span class="line">                <span class="meta">*</span> <span class="string">语法： select 字段列表 from 表名1 [inner] join 表名2 on 条件</span></span><br><span class="line">                </span><br><span class="line">    <span class="meta">2.</span> <span class="string">外链接查询：</span></span><br><span class="line">		<span class="meta">1.</span> <span class="string">左外连接：</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">语法：select 字段列表 from 表1 left [outer] join 表2 on 条件；</span></span><br><span class="line">			<span class="meta">*</span> <span class="string">查询的是左表所有数据以及其交集部分。</span></span><br><span class="line">	<span class="meta">3.</span> <span class="string">子查询：</span></span><br><span class="line">		<span class="meta">*</span> <span class="string">概念：查询中嵌套查询，称嵌套查询为子查询。</span></span><br><span class="line">		<span class="meta">1.</span> <span class="string">子查询的结果是单行单列的：</span></span><br><span class="line">				<span class="meta">*</span> <span class="string">子查询可以作为条件，使用运算符去判断。 运算符： &gt; &gt;= &lt; &lt;= =</span></span><br><span class="line">		<span class="meta">2.</span> <span class="string">子查询的结果是多行单列的：</span></span><br><span class="line">				<span class="meta">*</span> <span class="string">子查询可以作为条件，使用运算符in来判断</span></span><br><span class="line">		<span class="meta">3.</span> <span class="string">子查询的结果是多行多列的：</span></span><br><span class="line">				<span class="meta">*</span> <span class="string">子查询可以作为一张虚拟表参与查询</span></span><br></pre></td></tr></table></figure>



<h2 id="10-事务"><a href="#10-事务" class="headerlink" title="10. 事务"></a>10. 事务</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1. 事务的基本介绍</span><br><span class="line">	1. 概念：</span><br><span class="line">		*  如果一个包含多个步骤的业务操作，被事务管理，那么这些操作要么同时成功，要么同时失败。</span><br><span class="line">		</span><br><span class="line">	2. 操作：</span><br><span class="line">		1. 开启事务： start transaction;</span><br><span class="line">		2. 回滚：rollback;</span><br><span class="line">		3. 提交：commit;</span><br><span class="line">		</span><br><span class="line">	3. MySQ L数据库中事务默认自动提交</span><br><span class="line">		* 事务提交的两种方式：</span><br><span class="line">			* 自动提交：</span><br><span class="line">				* mysql 就是自动提交的</span><br><span class="line">				* 一条 DML(增删改) 语句会自动提交一次事务。</span><br><span class="line">			* 手动提交：</span><br><span class="line">				* Oracle 数据库默认是手动提交事务</span><br><span class="line">				* 需要先开启事务，再提交</span><br><span class="line">		* 修改事务的默认提交方式：</span><br><span class="line">			* 查看事务的默认提交方式：SELECT @@autocommit; -- 1 代表自动提交  0 代表手动提交</span><br><span class="line">			* 修改默认提交方式： set @@autocommit = 0;</span><br></pre></td></tr></table></figure>



<h3 id="10-1-事务的四大特征"><a href="#10-1-事务的四大特征" class="headerlink" title="10.1 事务的四大特征"></a>10.1 事务的四大特征</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">2.</span> <span class="string">事务的四大特征：</span></span><br><span class="line">	<span class="meta">1.</span> <span class="string">原子性：是不可分割的最小操作单位，要么同时成功，要么同时失败。</span></span><br><span class="line">	<span class="meta">2.</span> <span class="string">持久性：当事务提交或回滚后，数据库会持久化的保存数据。</span></span><br><span class="line">	<span class="meta">3.</span> <span class="string">隔离性：多个事务之间。相互独立。</span></span><br><span class="line">	<span class="meta">4.</span> <span class="string">一致性：事务操作前后，数据总量不变</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">3. 事务的隔离级别（了解）</span><br><span class="line">	* 概念：多个事务之间隔离的，相互独立的。但是如果多个事务操作同一批数据，则会引发一些问题，设置不同的隔离级别就可以解决这些问题。</span><br><span class="line">	* 存在问题：</span><br><span class="line">		1. 脏读：一个事务，读取到另一个事务中没有提交的数据</span><br><span class="line">		2. 不可重复读(虚读)：在同一个事务中，两次读取到的数据不一样。</span><br><span class="line">		3. 幻读：一个事务操作(DML)数据表中所有记录，另一个事务添加了一条数据，则第一个事务查询不到自己的修改。</span><br><span class="line">	* 隔离级别：</span><br><span class="line">		1. read uncommitted：读未提交</span><br><span class="line">			* 产生的问题：脏读、不可重复读、幻读</span><br><span class="line">		2. read committed：读已提交 （Oracle）</span><br><span class="line">			* 产生的问题：不可重复读、幻读</span><br><span class="line">		3. repeatable read：可重复读 （MySQL默认）</span><br><span class="line">			* 产生的问题：幻读</span><br><span class="line">		4. serializable：串行化</span><br><span class="line">			* 可以解决所有的问题</span><br><span class="line"></span><br><span class="line">		* 注意：隔离级别从小到大安全性越来越高，但是效率越来越低</span><br><span class="line">		* 数据库查询隔离级别：</span><br><span class="line">			* select @@tx_isolation;</span><br><span class="line">		* 数据库设置隔离级别：</span><br><span class="line">			* set global transaction isolation level  级别字符串;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>spvian</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://example.com/2021/05/26/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/" title="01_MySQL">http://example.com/2021/05/26/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/05/26/%E6%AF%95%E8%AE%BE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/" rel="prev" title=""><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text"></span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/05/26/%E6%95%B0%E6%8D%AE%E5%BA%93/MyBatis/" rel="next" title="03_MyBatis"><span class="post-nav-text">03_MyBatis</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>要不要和我说些什么？</span><br></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> spvian</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.4.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.6.1</span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><div class="aplayer no-destroy" id="aplayer" data-id="308168565" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay data-theme="#0078E7" data-loop="all" data-order="list" data-preload="auto" data-volume="0.7" data-mutex data-lrctype="0" data-listmaxheight="340px" data-storagename="metingjs"></div></div></body></html>