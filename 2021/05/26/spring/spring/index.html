<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="spvian"><meta name="copyright" content="spvian"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>spring | spvian</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.24/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_j5gk85dg4pf.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link class="aplayer-style-marker" rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css"><script class="aplayer-script-marker" src="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js" defer></script><script class="meting-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js" defer></script><link rel="icon" href="/yun"><link rel="mask-icon" href="/yun" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"example.com","root":"/","title":"永远相信未来","version":"1.6.1","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"想要搜些什么？","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"local_search":{"path":"/search.xml"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><meta name="description" content="spring1. 概述1Spring 是分层的 Java SE&#x2F;EE 应用 full-stack 轻量级开源框架，以 IoC（Inverse Of Control：反转控制）和 AOP（Aspect Oriented Programming：面向切面编程）为内核，提供了展现层 SpringMVC 和持久层 Spring JDBC 以及业务层事务管理等众多的企业级应用技术，还能整合开源世界众多著名的">
<meta property="og:type" content="article">
<meta property="og:title" content="spring">
<meta property="og:url" content="http://example.com/2021/05/26/spring/spring/index.html">
<meta property="og:site_name" content="spvian">
<meta property="og:description" content="spring1. 概述1Spring 是分层的 Java SE&#x2F;EE 应用 full-stack 轻量级开源框架，以 IoC（Inverse Of Control：反转控制）和 AOP（Aspect Oriented Programming：面向切面编程）为内核，提供了展现层 SpringMVC 和持久层 Spring JDBC 以及业务层事务管理等众多的企业级应用技术，还能整合开源世界众多著名的">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2021/05/26/spring/spring/assets%5Cimage-20210512225118073.png">
<meta property="article:published_time" content="2021-05-26T10:32:17.711Z">
<meta property="article:modified_time" content="2021-05-19T12:27:17.454Z">
<meta property="article:author" content="spvian">
<meta property="article:tag" content="spring">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2021/05/26/spring/spring/assets%5Cimage-20210512225118073.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="spvian"><img width="96" loading="lazy" src="/aya" alt="spvian"></a><div class="site-author-name"><a href="/about/">spvian</a></div><span class="site-name">spvian</span><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">64</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">4</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">7</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/spvain" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#spring"><span class="toc-number">1.</span> <span class="toc-text">spring</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">1. 概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E4%BC%98%E5%8A%BF"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1 优势</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2 体系结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Inversion-Of-Control"><span class="toc-number">1.2.</span> <span class="toc-text">2. Inversion Of Control</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E8%80%A6%E5%90%88"><span class="toc-number">1.2.1.</span> <span class="toc-text">2.1 耦合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-IOC-%E8%A7%A3%E5%86%B3%E7%A8%8B%E5%BA%8F%E8%80%A6%E5%90%88"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.2 IOC 解决程序耦合</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-BeanFactory-%E5%92%8C-ApplicationContext"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">2.2.1 BeanFactory 和 ApplicationContext</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-ApplicationContext-%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">2.2.2 ApplicationContext 接口的实现类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-bean-%E6%A0%87%E7%AD%BE"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">2.2.3 bean 标签</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Dependency-Injection"><span class="toc-number">1.3.</span> <span class="toc-text">3. Dependency Injection</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Annotation"><span class="toc-number">1.4.</span> <span class="toc-text">4. Annotation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E6%96%B0%E5%A2%9E%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.4.1.</span> <span class="toc-text">4.1 新增注解</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Junit"><span class="toc-number">1.5.</span> <span class="toc-text">5. Junit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Aspent-Oriented-Programming"><span class="toc-number">1.6.</span> <span class="toc-text">6. Aspent-Oriented Programming</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-JDK-%E4%BB%A3%E7%90%86"><span class="toc-number">1.6.1.</span> <span class="toc-text">6.1 JDK 代理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-CGLIB-%E4%BB%A3%E7%90%86"><span class="toc-number">1.6.2.</span> <span class="toc-text">6.2 CGLIB 代理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-AOP-%E6%9C%AF%E8%AF%AD"><span class="toc-number">1.6.3.</span> <span class="toc-text">6.3 AOP 术语</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-PorxyFactoryBean"><span class="toc-number">1.6.4.</span> <span class="toc-text">6.4 PorxyFactoryBean</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-AspectJ"><span class="toc-number">1.7.</span> <span class="toc-text">7. AspectJ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-XML"><span class="toc-number">1.7.1.</span> <span class="toc-text">7.1 XML</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.7.2.</span> <span class="toc-text">7.2 注解</span></a></li></ol></li></ol></li></ol></div></div></div><div class="tag-cloud"><div class="tag-cloud-tags"><a href="/tags/Linux/" style="font-size: 15.6px; color: #7a92a9">Linux</a> <a href="/tags/SpringBoot/" style="font-size: 30px; color: #0078e7">SpringBoot</a> <a href="/tags/java/" style="font-size: 22.8px; color: #3d85c8">java</a> <a href="/tags/spring/" style="font-size: 12px; color: #999">spring</a> <a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size: 19.2px; color: #5c8cb8">教程</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 22.8px; color: #3d85c8">笔记</a> <a href="/tags/%E8%AE%BE%E8%AE%A1/" style="font-size: 26.4px; color: #1f7fd7">设计</a></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://example.com/2021/05/26/spring/spring/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="spvian"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="spvian"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">spring</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2021-05-26 18:32:17" itemprop="dateCreated datePublished" datetime="2021-05-26T18:32:17+08:00">2021-05-26</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="Modified: 2021-05-19 20:27:17" itemprop="dateModified" datetime="2021-05-19T20:27:17+08:00">2021-05-19</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="Word count in article"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="Word count in article">4.7k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Reading time"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="Reading time">17m</span></span></span><span class="post-busuanzi"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Views"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span id="busuanzi_value_page_pv"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E6%A1%86%E6%9E%B6/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">框架</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/spring/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">spring</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h1 id="spring"><a href="#spring" class="headerlink" title="spring"></a>spring</h1><h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Spring 是分层的 Java SE/EE 应用 full-stack 轻量级开源框架，以 IoC（Inverse Of Control：反转控制）和 AOP（Aspect Oriented Programming：面向切面编程）为内核，提供了展现层 SpringMVC 和持久层 Spring JDBC 以及业务层事务管理等众多的企业级应用技术，还能整合开源世界众多著名的第三方框架和类库，逐渐成为使用最多的 Java EE 企业应用开源框架。</span><br></pre></td></tr></table></figure>



<h3 id="1-1-优势"><a href="#1-1-优势" class="headerlink" title="1.1 优势"></a>1.1 优势</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1. 方便解耦，简化开发</span><br><span class="line">	通过 Spring 提供的 IoC 容器，可以将对象间的依赖关系交由 Spring 进行控制，避免硬编码所造成的过度程序耦合。用户也不必再为单例模式类、属性文件解析等这些很底层的需求编写代码，可以更专注于上层的应用。</span><br><span class="line">2. AOP 编程的支持</span><br><span class="line">	通过 Spring 的 AOP 功能，方便进行面向切面的编程，许多不容易用传统 OOP 实现的功能可以通过 AOP 轻松应付</span><br><span class="line">3. 声明式事务的支持</span><br><span class="line">	可以将我们从单调烦闷的事务管理代码中解脱出来，通过声明式方式灵活的进行事务的管理，提高开发效率和质量。</span><br><span class="line">4. 方便程序的测试</span><br><span class="line">	可以用非容器依赖的编程方式进行几乎所有的测试工作，测试不再是昂贵的操作，而是随手可做的事情。</span><br><span class="line">5. 方便集成各种优秀框架</span><br><span class="line">	Spring 可以降低各种框架的使用难度，提供了对各种优秀框架（Struts、Hibernate、Hessian、Quartz等）的直接支持	</span><br><span class="line">6. 降低 JavaEE API 的使用难度</span><br><span class="line">	Spring 对 JavaEE API（如 JDBC、JavaMail、远程调用等）进行了薄薄的封装层，使这些 API 的使用难度大为降低。</span><br><span class="line">7. Java 源码是经典学习范例</span><br><span class="line">	Spring 的源代码设计精妙、结构清晰、匠心独用，处处体现着大师对 Java 设计模式灵活运用以及对 Java 技术的高深造诣。它的源代码无意是 Java 技术的最佳实践的范例。</span><br></pre></td></tr></table></figure>



<h3 id="1-2-体系结构"><a href="#1-2-体系结构" class="headerlink" title="1.2 体系结构"></a>1.2 体系结构</h3><p><img src="assets%5Cimage-20210512225118073.png" alt="image-20210512225118073" loading="lazy"></p>
<h2 id="2-Inversion-Of-Control"><a href="#2-Inversion-Of-Control" class="headerlink" title="2. Inversion Of Control"></a>2. Inversion Of Control</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">控制反转-Inversion Of Control</span><br><span class="line">	是把创建的对象的主动权交给容器，由容器创建、管理对象</span><br><span class="line">ioc 的作用：</span><br><span class="line">	削减计算机程序的耦合(解除我们代码中的依赖关系)。</span><br></pre></td></tr></table></figure>

<h3 id="2-1-耦合"><a href="#2-1-耦合" class="headerlink" title="2.1 耦合"></a>2.1 耦合</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">耦合性(Coupling)，也叫耦合度，是对模块间关联程度的度量。耦合的强弱取决于模块间接口的复杂性、调用模块的方式以及通过界面传送数据的多少。模块间的耦合度是指模块之间的依赖关系，包括控制关系、调用关系、数据传递关系。模块间联系越多，其耦合性越强，同时表明其独立性越差( 降低耦合性，可以提高其独立性)。耦合性存于各个领域，而非软件设计中独有的，但是我们只讨论软件工程中的耦合。</span><br><span class="line">在软件工程中，耦合指的就是就是对象之间的依赖性。对象之间的耦合越高，维护成本越高。因此对象的设计应使类和构件之间的耦合最小。软件设计中通常用耦合度和内聚度作为衡量模块独立程度的标准。划分模块的一个准则就是高内聚低耦合。</span><br><span class="line"></span><br><span class="line">分类：</span><br><span class="line">       （1） 内容耦合：当一个模块直接修改或操作另一个模块的数据时，或一个模块不通过正常入口而转入另一个模块时，这样的耦合被称为内容耦合。内容耦合是最高程度的耦合，应该避免使用之。</span><br><span class="line">       （2） 公共耦合：两个或两个以上的模块共同引用一个全局数据项，这种耦合被称为公共耦合。在具有大量公共耦合的结构中，确定究竟是哪个模块给全局变量赋了一个特定的值是十分困难的。</span><br><span class="line">       （3） 外部耦合：一组模块都访问同一全局简单变量而不是同一全局数据结构，而且不是通过参数表传递该全局变量的信息，则称之为外部耦合。</span><br><span class="line">       （4） 控制耦合：一个模块通过接口向另一个模块传递一个控制信号，接受信号的模块根据信号值而进行适当的动作，这种耦合被称为控制耦合。</span><br><span class="line">       （5） 标记耦合：若一个模块 A 通过接口向两个模块 B 和 C 传递一个公共参数，那么称模块 B 和 C 之间存在一个标记耦合。</span><br><span class="line">       （6） 数据耦合：模块之间通过参数来传递数据，那么被称为数据耦合。数据耦合是最低的一种耦合形式，系统中一般都存在这种类型的耦合，因为为了完成一些有意义的功能，往往需要将某些模块的输出数据作为另一些模块的输入数据。</span><br><span class="line">       （7） 非直接耦合：两个模块之间没有直接关系，它们之间的联系完全是通过主模块的控制和调用来实现的。</span><br><span class="line">       </span><br><span class="line">    内聚与耦合</span><br><span class="line">	内聚标志一个模块内各个元素彼此结合的紧密程度，它是信息隐蔽和局部化概念的自然扩展。内聚是从功能角度来度量模块内的联系，一个好的内聚模块应当恰好做一件事。它描述的是模块内的功能联系。耦合是软件结构中各模块之间相互连接的一种度量，耦合强弱取决于模块间接口的复杂程度、进入或访问一个模块的点以及通过接口的数据。 程序讲究的是低耦合，高内聚。就是同一个模块内的各个元素之间要高度紧密，但是各个模块之间的相互依存度却要不那么紧密。</span><br></pre></td></tr></table></figure>



<h3 id="2-2-IOC-解决程序耦合"><a href="#2-2-IOC-解决程序耦合" class="headerlink" title="2.2 IOC 解决程序耦合"></a>2.2 IOC 解决程序耦合</h3><p>​    </p>
<h4 id="2-2-1-BeanFactory-和-ApplicationContext"><a href="#2-2-1-BeanFactory-和-ApplicationContext" class="headerlink" title="2.2.1 BeanFactory 和 ApplicationContext"></a>2.2.1 BeanFactory 和 ApplicationContext</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">BeanFactory 才是 Spring 容器中的顶层接口。ApplicationContext 是它的子接口。</span><br><span class="line">BeanFactory 和 ApplicationContext 的区别：</span><br><span class="line">		创建对象的时间点不一样。</span><br><span class="line">               ApplicationContext：只要一读取配置文件，默认情况下就会创建对象。</span><br><span class="line">               BeanFactory：什么时候使用什么时候创建对象。</span><br></pre></td></tr></table></figure>



<h4 id="2-2-2-ApplicationContext-接口的实现类"><a href="#2-2-2-ApplicationContext-接口的实现类" class="headerlink" title="2.2.2 ApplicationContext 接口的实现类"></a>2.2.2 ApplicationContext 接口的实现类</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ClassPathXmlApplicationContext：它是从类的根路径下加载配置文件推荐使用这种</span><br><span class="line">FileSystemXmlApplicationContext：它是从磁盘路径上加载配置文件，配置文件可以在磁盘的任意位置。</span><br><span class="line">AnnotationConfigApplicationContext:当我们使用注解配置容器对象时，需要使用此类来创建 spring 容器。它用来读取注解。</span><br></pre></td></tr></table></figure>



<h4 id="2-2-3-bean-标签"><a href="#2-2-3-bean-标签" class="headerlink" title="2.2.3 bean 标签"></a>2.2.3 bean 标签</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">   作用：用于配置对象让 spring 来创建的。默认情况下它调用的是类中的无参构造函数。如果没有无参构造函数则不能创建成功。</span><br><span class="line">       属性：</span><br><span class="line">           id：给对象在容器中提供一个唯一标识。用于获取对象。</span><br><span class="line">           class：指定类的全限定类名。用于反射创建对象。默认情况下调用无参构造函数。</span><br><span class="line">           scope：指定对象的作用范围。</span><br><span class="line">               * singleton :默认值，单例的.一个应用只有一个对象的实例。它的作用范围就是整个引用。</span><br><span class="line">                       生命周期：</span><br><span class="line">                           对象出生：当应用加载，创建容器时，对象就被创建了。</span><br><span class="line">                           对象活着：只要容器在，对象一直活着。</span><br><span class="line">                           对象死亡：当应用卸载，销毁容器时，对象就被销毁了</span><br><span class="line">               * prototype :多例的.每次访问对象时，都会重新创建对象实例。</span><br><span class="line">                       生命周期：</span><br><span class="line">                           对象出生：当使用对象时，创建新的对象实例。</span><br><span class="line">                           对象活着：只要对象在使用中，就一直活着。</span><br><span class="line">                           对象死亡：当对象长时间不用时，被 java 的垃圾回收器回收了。</span><br><span class="line">               * request</span><br><span class="line">              		 :WEB 项目中,Spring 创建一个 Bean 的对象,将对象存入到 request 域中.</span><br><span class="line">               * session</span><br><span class="line">              		 :WEB 项目中,Spring 创建一个 Bean 的对象,将对象存入到 session 域中.</span><br><span class="line">               * global session</span><br><span class="line">              		 :WEB 项目中,应用在 Portlet 环境.如果没有 Portlet 环境那么globalSession 相当于 session.</span><br><span class="line">           init-method：指定类中的初始化方法名称。</span><br><span class="line">           destroy-method：指定类中销毁方法名称。</span><br><span class="line">        </span><br><span class="line">Bean 实例化的三种方式</span><br><span class="line">	第一种方式：使用默认无参构造函数  </span><br><span class="line">		&lt;bean id=&quot;&quot; class=&quot;&quot; /&gt;</span><br><span class="line">	第二种方式：spring 管理静态工厂-使用静态工厂的方法创建对象</span><br><span class="line">		&lt;bean id=&quot;&quot; class=&quot;&quot; factory-method=&quot;&quot; /&gt;</span><br><span class="line">	第三种方式：spring 管理实例工厂-使用实例工厂的方法创建对象</span><br><span class="line">		&lt;bean id=&quot;&quot; class=&quot;&quot; /&gt;</span><br><span class="line">		&lt;bead id=&quot;&quot; factory-bean=&quot;&quot; factory-method=&quot;&quot; /&gt;</span><br></pre></td></tr></table></figure>



<h2 id="3-Dependency-Injection"><a href="#3-Dependency-Injection" class="headerlink" title="3. Dependency Injection"></a>3. Dependency Injection</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">依赖注入：Dependency Injection。它是 spring 框架核心 ioc 的具体实现。ioc 解耦只是降低他们的依赖关系，但不会消除.</span><br><span class="line">	方式：</span><br><span class="line">		构造函数注入：</span><br><span class="line">                &lt;bean id=&quot;&quot; class=&quot;&quot;&gt;</span><br><span class="line">                    &lt;constructor-arg name=&quot;&quot; value=&quot;&quot;&gt;&lt;/constructor-arg&gt;</span><br><span class="line">                    &lt;constructor-arg index=&quot;&quot; value=&quot;&quot;&gt;&lt;/constructor-arg&gt;</span><br><span class="line">                    &lt;constructor-arg type=&quot;&quot; ref=&quot;&quot;&gt;&lt;/constructor-arg&gt;</span><br><span class="line">                &lt;/bean&gt;</span><br><span class="line">         set 方法注入:</span><br><span class="line">         		&lt;bean id=&quot;accountService&quot; class=&quot;com.itheima.service.impl.AccountServiceImpl&quot;&gt;</span><br><span class="line">                    &lt;property name=&quot;&quot; value=&quot;&quot;&gt;&lt;/property&gt;</span><br><span class="line">                     &lt;property name=&quot;&quot; ref=&quot;&quot;&gt;&lt;/property&gt;</span><br><span class="line">                &lt;/bean&gt;</span><br><span class="line">          注入集合数据</span><br><span class="line">                List 结构的：</span><br><span class="line">                		array,list,set</span><br><span class="line">                Map 结构的</span><br><span class="line">              		  map,entry,props,prop</span><br><span class="line">         </span><br></pre></td></tr></table></figure>



<h2 id="4-Annotation"><a href="#4-Annotation" class="headerlink" title="4. Annotation"></a>4. Annotation</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">    @Component 此注解用于描述 Spring 中的 Bean，但它是一个泛化的概念，仅表示一个组件（bean），可用于任何层次。</span><br><span class="line">    	作用：</span><br><span class="line">        	把资源让 spring 来管理。相当于在 xml 中配置一个 bean。</span><br><span class="line">        属性：</span><br><span class="line">       		 value：指定 bean 的 id。如果不指定 value 属性，默认 bean 的 id 是当前类的类名。首字母小写。</span><br><span class="line">    @Repository 将数据访问层（DAO层）的类标识为 Spring 中的 Bean。功能与 @Component 相同。</span><br><span class="line">    @Service 将业务层（Service层）的类标识为 Spring 中的 Bean，功能与 @Component 相同。</span><br><span class="line">    @Controller 将控制层 （如 Spring MVC 的 Controller）的类标识为 Spring 中的 Bean。功能与 @Component 相同。				@Autowired 对 Bean 的属性变量、属性的 setter 方法及构造方法进行标注，配合对应的注解处理器完成 Bean 的自动配置工作。默认按照 Bean 的类型进行装配。</span><br><span class="line">    @Resource 作用与 @Autowired 一样。@Resource 默认按照 Bean 实例名称进行装配。其有两个重要的属性：name 和 type。Spring 将 name 属性解析为 Bena实例名称，type 属性解析为 Bean 的实例类型。</span><br><span class="line">    @Qualifier 与 @Autowired 注解配合使用，将默认的按 Bean 类型装配修改为按 Bean 的实例名装配，Bean 的实例名由@Qualifier 注解的参数指定。</span><br><span class="line">    @Value </span><br><span class="line">    	作用：</span><br><span class="line">      		  注入基本数据类型和 String 类型数据的</span><br><span class="line">        属性：</span><br><span class="line">              value：用于指定值	</span><br><span class="line">    @Scope</span><br><span class="line">    	作用：</span><br><span class="line">       		 指定 bean 的作用范围。</span><br><span class="line">        属性：</span><br><span class="line">       		 value：指定范围的值。取值：singleton prototype request session globalsession</span><br><span class="line">    @PostConstruct</span><br><span class="line">    	作用：</span><br><span class="line">			用于指定初始化方法</span><br><span class="line">	@PreDestro</span><br><span class="line">		作用：</span><br><span class="line">			用于指定销毁方法。</span><br><span class="line">			</span><br><span class="line">&lt;!-- 配置扫描使用了注解的包--&gt;</span><br><span class="line">&lt;context:component-scan base-package=&quot;&quot; /&gt;</span><br></pre></td></tr></table></figure>



<h3 id="4-1-新增注解"><a href="#4-1-新增注解" class="headerlink" title="4.1 新增注解"></a>4.1 新增注解</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">@Configuration </span><br><span class="line">	作用：</span><br><span class="line">      		 用于指定当前类是一个 spring 配置类，当创建容器时会从该类上加载注解。获取容器时需要使用 AnnotationApplicationContext(有@Configuration 注解的类.class)。</span><br><span class="line">       属性：</span><br><span class="line">      		 value:用于指定配置类的字节码</span><br><span class="line">   @ComponentSca</span><br><span class="line">   	作用：</span><br><span class="line">           用于指定 spring 在初始化容器时要扫描的包。作用和在 spring 的 xml 配置文件中的：&lt;context:component-scan base-package=&quot;&quot;/&gt;是一样的。</span><br><span class="line">       属性：</span><br><span class="line">           basePackages：用于指定要扫描的包。和该注解中的 value 属性作用一样。</span><br><span class="line">   @Bean</span><br><span class="line">  		作用：</span><br><span class="line">      		 该注解只能写在方法上，表明使用此方法创建一个对象，并且放入 spring 容器。</span><br><span class="line">       属性：</span><br><span class="line">      		 name：给当前@Bean 注解方法创建的对象指定一个名称(即 bean 的 id）。</span><br><span class="line">   @PropertySource</span><br><span class="line">   	作用：</span><br><span class="line">            用于加载.properties 文件中的配置。例如我们配置数据源时，可以把连接数据库的信息写到 properties 配置文件中，就可以使用此注解指定 properties 配置文件的位置。</span><br><span class="line">       属性：</span><br><span class="line">      		 value[]：用于指定 properties 文件位置。如果是在类路径下，需要写上 classpath:</span><br><span class="line">   @Import</span><br><span class="line">   	作用：</span><br><span class="line">       	 于导入其他配置类，在引入其他配置类时，可以不用再写@Configuration 注解。当然，写上也没问题。</span><br><span class="line">       属性 </span><br><span class="line">       	 value[]：用于指定其他配置类的字节码。</span><br></pre></td></tr></table></figure>



<h2 id="5-Junit"><a href="#5-Junit" class="headerlink" title="5. Junit"></a>5. Junit</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@RunWith </span><br><span class="line">	换原有运行器</span><br><span class="line">@ContextConfiguration</span><br><span class="line">	指定 spring 的配置文件</span><br><span class="line">	locations 属性：用于指定配置文件的位置。如果是类路径下，需要用 classpath:表明</span><br><span class="line">	classes 属性：用于指定注解的类。当不使用 xml 配置时，需要用此属性指定注解类的位置。</span><br></pre></td></tr></table></figure>



<h2 id="6-Aspent-Oriented-Programming"><a href="#6-Aspent-Oriented-Programming" class="headerlink" title="6. Aspent-Oriented Programming"></a>6. Aspent-Oriented Programming</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">面向切面编程（面向方面编程）。是面向对象编程（OOP）的一种补充</span><br><span class="line">       作用：</span><br><span class="line">            在程序运行期间，不修改源码对已有方法进行增强。</span><br><span class="line">       优势：</span><br><span class="line">            减少重复代码</span><br><span class="line">            提高开发效率</span><br><span class="line">            维护方便</span><br><span class="line">  实现方式：动态代理</span><br><span class="line">  		基于 JDK 的代理</span><br><span class="line">  		基于 CGLIB 的代理</span><br></pre></td></tr></table></figure>



<h3 id="6-1-JDK-代理"><a href="#6-1-JDK-代理" class="headerlink" title="6.1 JDK 代理"></a>6.1 JDK 代理</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">JDK 动态代理是通过 java.lang.reflect.Proxy 类实现的，可以通过调用 Proxy 类中的 newProxyInstance（）方法来创建代理对象。它的局限性在于动态代理的对象必须实现一个或多个接口。</span><br><span class="line">//1. 类加载器</span><br><span class="line">   ClassLoader classLoader=getClass().getClassLoader();</span><br><span class="line"></span><br><span class="line">   //2, 被代理对象实现的所有接口</span><br><span class="line">   Class[] targetInterfaces=xxxx.getClass().getInterfaces();</span><br><span class="line"></span><br><span class="line">   Proxy.newProxyInstance(classLoader,targetInterfaces,InvocationHandler 接口的实现类);</span><br></pre></td></tr></table></figure>



<h3 id="6-2-CGLIB-代理"><a href="#6-2-CGLIB-代理" class="headerlink" title="6.2 CGLIB 代理"></a>6.2 CGLIB 代理</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CGLIB（Code Generation Library）一个高性能开源的代理生成包，是对没有实现接口的的类进行代理的。</span><br><span class="line"></span><br><span class="line">   Enhancer enhancer=new Enhancer();</span><br><span class="line">   //设置代理类</span><br><span class="line">   enhancer.setSuperclass(xxx.class);</span><br><span class="line">   // 设置回调方法 ：intercept（）</span><br><span class="line">   enhancer.setCallback(new MethodInterceptor()&#123;&#125;);</span><br><span class="line">   return (xxxx) enhancer.create();</span><br></pre></td></tr></table></figure>



<h3 id="6-3-AOP-术语"><a href="#6-3-AOP-术语" class="headerlink" title="6.3 AOP 术语"></a>6.3 AOP 术语</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Aspect（切面）切面通常指封装插入系统功能（如事务、日志等）的类</span><br><span class="line">Joninpoint（连接点）实际上是对象的一个操作，如方法的调用或异常的抛出。在 Spring AOP 指方法的调用Pointcut（切入点）指切面与程序流程的交叉点。通常指的是类或者方法名。</span><br><span class="line">Advice（通知/增强处理）在定义好的切入点处所需要执行的代码。可理解为切面类中的方法。</span><br><span class="line">Target Object（目标对象）指所有被通知的对象，也称为被增强对象。</span><br><span class="line">Proxy（代理）将通知应用到目标对象之后，被动态创建的对象。</span><br><span class="line">Weaving（织入）将你的代码出入到目标对象上，生成代理对象的过程。</span><br></pre></td></tr></table></figure>



<h3 id="6-4-PorxyFactoryBean"><a href="#6-4-PorxyFactoryBean" class="headerlink" title="6.4 PorxyFactoryBean"></a>6.4 PorxyFactoryBean</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">ProxyFactoryBean 是 FactoryBean 接口的实现类，FactoryBean 负责实例化一个 Bean，ProxyFactoryBean 负责为其它 Bean 创建代理实例。在 Spring 中，使用ProxyFactoryBean 是创建 AOP 代理的基本方式。</span><br><span class="line">常用属性：</span><br><span class="line">	arget 代理的目标对象</span><br><span class="line">	proxyInterfaces 代理要实现的接口，如果是多个接口，按以下格式赋值：                                                              &lt;list&gt;                                                                                                                 &lt;value&gt;&lt;/value&gt;                                                                                               &lt;/list&gt;</span><br><span class="line">	proxyTargetClass 是否对代理而不是接口，设置为 true 时，使用 CGLIB 代理</span><br><span class="line">	interceptorNames 需要织入目标的 Advicesingleton 返回的代理是否时单实例，默认为 true</span><br><span class="line">	optimize 当设置为 true 时，强制使用 CGLIB</span><br><span class="line"></span><br><span class="line"> &lt;bean id=&quot;&quot; class=&quot;org.springframework.aop.framework.ProxyFactoryBean&quot; &gt;</span><br><span class="line">       &lt;!-- 指定目标对象--&gt;</span><br><span class="line">       &lt;property name=&quot;target&quot; ref=&quot;&quot; /&gt;</span><br><span class="line">       &lt;!-- 指定切面类--&gt;</span><br><span class="line">       &lt;property name=&quot;interceptorNames&quot; value=&quot;&quot;/&gt;</span><br><span class="line">       &lt;!-- 指定代理方式, true 为 CGLIB,false 为 JDK 动态代理--&gt;</span><br><span class="line">       &lt;property name=&quot;proxyTargetClass&quot; value=&quot;true&quot; /&gt;</span><br><span class="line">   &lt;/bean&gt;</span><br></pre></td></tr></table></figure>



<h2 id="7-AspectJ"><a href="#7-AspectJ" class="headerlink" title="7. AspectJ"></a>7. AspectJ</h2><h3 id="7-1-XML"><a href="#7-1-XML" class="headerlink" title="7.1 XML"></a>7.1 XML</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">AspectJ 是一个基于 Java 语言的 AOP 框架，提供了强大的 AOP 功能。使用AspectJ 实现 AOP 有基于 XML 的声明式和基于注解的声明式。</span><br><span class="line">XML 配置</span><br><span class="line">	aop:pointcut：</span><br><span class="line">           作用：</span><br><span class="line">           	用于配置切入点表达式。就是指定对哪些类的哪些方法进行增强。</span><br><span class="line">           属性：</span><br><span class="line">               expression：用于定义切入点表达式。</span><br><span class="line">               	表达式语法：execution([修饰符] 返回值类型 包名.类名.方法名(参数))</span><br><span class="line">               id：用于给切入点表达式提供一个唯一标识</span><br><span class="line">               </span><br><span class="line">       aop:aspect:</span><br><span class="line">           作用：</span><br><span class="line">          		用于配置切面。</span><br><span class="line">           属性：</span><br><span class="line">               id：给切面提供一个唯一标识。</span><br><span class="line">               ref：引用配置好的通知类 bean 的 id。</span><br><span class="line">               </span><br><span class="line">       aop:before</span><br><span class="line">           作用：</span><br><span class="line">        	   用于配置前置通知。指定增强的方法在切入点方法之前执行</span><br><span class="line">           属性：</span><br><span class="line">               method:用于指定通知类中的增强方法名称</span><br><span class="line">               ponitcut-ref：用于指定切入点的表达式的引用</span><br><span class="line">               poinitcut：用于指定切入点表达式</span><br><span class="line">               </span><br><span class="line">       aop:after-returning</span><br><span class="line">       	作用：</span><br><span class="line">               用于配置后置通知</span><br><span class="line">           属性：</span><br><span class="line">               method：指定通知中方法的名称。</span><br><span class="line">               pointct：定义切入点表达式</span><br><span class="line">               pointcut-ref：指定切入点表达式的引用</span><br><span class="line">        aop:after-throwing</span><br><span class="line">           作用：</span><br><span class="line">               用于配置异常通知</span><br><span class="line">           属性：</span><br><span class="line">               method：指定通知中方法的名称。</span><br><span class="line">               pointct：定义切入点表达式</span><br><span class="line">               pointcut-ref：指定切入点表达式的引用</span><br><span class="line">        aop:after</span><br><span class="line">           作用：</span><br><span class="line">        	   用于配置最终通知</span><br><span class="line">           属性：</span><br><span class="line">               method：指定通知中方法的名称。</span><br><span class="line">               pointct：定义切入点表达式</span><br><span class="line">               pointcut-ref：指定切入点表达式的引用</span><br><span class="line">         aop:around：</span><br><span class="line">           作用：</span><br><span class="line">               用于配置环绕通知</span><br><span class="line">           属性：</span><br><span class="line">               method：指定通知中方法的名称。</span><br><span class="line">               pointct：定义切入点表达式</span><br><span class="line">               pointcut-ref：指定切入点表达式的引用</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="7-2-注解"><a href="#7-2-注解" class="headerlink" title="7.2 注解"></a>7.2 注解</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">@Pointcut</span><br><span class="line">      作用：</span><br><span class="line">     	  指定切入点表达式</span><br><span class="line">      属性：</span><br><span class="line">      	  value：指定表达式的内容</span><br><span class="line">@Aspect </span><br><span class="line">	作用：</span><br><span class="line">		把当前类声明为切面类。</span><br><span class="line">@Before</span><br><span class="line">       作用：</span><br><span class="line">    	   把当前方法看成是前置通知。</span><br><span class="line">       属性：</span><br><span class="line">     	  value：用于指定切入点表达式，还可以指定切入点表达式的引用。</span><br><span class="line">    @AfterReturning</span><br><span class="line">       作用：</span><br><span class="line">     	   把当前方法看成是后置通知。</span><br><span class="line">       属性：</span><br><span class="line">       	value：用于指定切入点表达式，还可以指定切入点表达式的引用</span><br><span class="line">    @AfterThrowing</span><br><span class="line">       作用：</span><br><span class="line">     		把当前方法看成是异常通知。</span><br><span class="line">       属性：</span><br><span class="line">      		 value：用于指定切入点表达式，还可以指定切入点表达式的引用</span><br><span class="line">     @After</span><br><span class="line">       作用：</span><br><span class="line">      		 把当前方法看成是最终通知。</span><br><span class="line">       属性：</span><br><span class="line">     		  value：用于指定切入点表达式，还可以指定切入点表达式的引用</span><br><span class="line">     @Around</span><br><span class="line">       作用：</span><br><span class="line">    	   把当前方法看成是环绕通知。</span><br><span class="line">       属性：</span><br><span class="line">       	value：用于指定切入点表达式，还可以指定切入点表达式的引用</span><br><span class="line">       	</span><br><span class="line">     &lt;!--  启动基于注解声明式AspectJ支持--&gt;</span><br><span class="line">     &lt;aop:aspectj-autoproxy /&gt; </span><br><span class="line">     		在 XML 中开启注解</span><br><span class="line">     @EnableAspectJAutoProxy  </span><br><span class="line">	    在配置类开启注解支持</span><br></pre></td></tr></table></figure>

</div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>spvian</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://example.com/2021/05/26/spring/spring/" title="spring">http://example.com/2021/05/26/spring/spring/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/05/26/spring/spring-transaction/" rel="prev" title=""><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text"></span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/05/26/spring/spring-mybatis/" rel="next" title=""><span class="post-nav-text"></span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>要不要和我说些什么？</span><br></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> spvian</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.4.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.6.1</span></div><div id="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv" title="Total Visitors"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-user-line"></use></svg></span><span id="busuanzi_value_site_uv"></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv" title="Total Views"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg></span><span id="busuanzi_value_site_pv"></span></span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="Search"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="想要搜些什么？" value=""></div><div id="local-search-result"></div></div><div class="aplayer no-destroy" id="aplayer" data-id="308168565" data-server="netease" data-type="playlist" data-fixed="true" data-theme="#0078E7" data-loop="all" data-order="list" data-preload="auto" data-volume="0.7" data-mutex data-lrctype="0" data-listmaxheight="340px" data-storagename="metingjs"></div></div></body></html>